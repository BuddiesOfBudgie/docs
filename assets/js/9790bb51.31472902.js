"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["183"],{4241:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>p,metadata:()=>r,assets:()=>u,contentTitle:()=>c});var r=JSON.parse('{"id":"developer/workflow/providing-backtraces","title":"Providing Backtraces","description":"This document goes over providing backtraces used for debugging potential issues with Budgie Desktop.","source":"@site/docs/developer/workflow/providing-backtraces.mdx","sourceDirName":"developer/workflow","slug":"/developer/workflow/providing-backtraces","permalink":"/developer/workflow/providing-backtraces","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"This document goes over providing backtraces used for debugging potential issues with Budgie Desktop.","keywords":["budgie desktop","debugging budgie","backtraces"],"title":"Providing Backtraces"},"sidebar":"developer","previous":{"title":"Building Budgie Desktop","permalink":"/developer/workflow/building-budgie-desktop"},"next":{"title":"Writing Documentation","permalink":"/developer/meta/writing-documentation"}}'),t=a(4848),s=a(4429),i=a(4109),o=a(3703);let l={description:"This document goes over providing backtraces used for debugging potential issues with Budgie Desktop.",keywords:["budgie desktop","debugging budgie","backtraces"],title:"Providing Backtraces"},c,u={},d=[{value:"Debug Symbols",id:"debug-symbols",level:2},{value:"GDB",id:"gdb",level:2},{value:"Generating a Backtrace",id:"generating-a-backtrace",level:2}];function h(e){let n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:'To ensure the best results and facilitate resolution when reporting segfaults, it is highly recommended that a backtrace be provided. A backtrace is "a summary of how your program got where it is. It shows one line per frame, for many frames, starting with the currently executing frame (frame zero), followed by its caller (frame one), and on up the stack".'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://ftp.gnu.org/old-gnu/Manuals/gdb/html_node/gdb_42.html#SEC43",children:"Source: GDB Manual"})}),"\n",(0,t.jsx)(n.p,{children:"This document will provide instructions, some of which may be OS-specific, for generating a file containing the backtrace. Please note that you must have the debug symbols for Budgie Desktop installed on your system. This may already be the case if you built Budgie Desktop yourself, but we provide some OS-specific instructions below."}),"\n",(0,t.jsx)(n.h2,{id:"debug-symbols",children:"Debug Symbols"}),"\n",(0,t.jsx)(n.p,{children:"A debug symbol is a special kind of symbol that attaches additional information to the symbol table of an object file, such as a shared library or an executable. This information allows a symbolic debugger to gain access to information from the source code of the binary, such as the names of identifiers, including variables and routines."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Debug_symbol",children:"Source: Wikipedia"})}),"\n",(0,t.jsx)(n.p,{children:"In the case of Budgie Desktop, this helps us identify various parts of the Budgie Desktop codebase across its range of components that may affect any issue that requires a backtrace."}),"\n",(0,t.jsxs)(i.A,{children:[(0,t.jsx)(o.A,{label:"Fedora",value:"Fedora",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo dnf debuginfo-install budgie-desktop\n"})})}),(0,t.jsx)(o.A,{label:"Solus",value:"Solus",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo eopkg install budgie-desktop-dbginfo\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"gdb",children:"GDB"}),"\n",(0,t.jsxs)(n.p,{children:["The GNU Project Debugger (GDB) is widely available across various Linux-based operating systems. We recommend using the instructions below for installing the debugger, though if you are familiar with the package manager of the operating system of your choice, typically the package is ",(0,t.jsx)(n.code,{children:"gdb"})," and you can install using your package manager's typical installation command(s)."]}),"\n",(0,t.jsxs)(i.A,{children:[(0,t.jsx)(o.A,{label:"Arch",value:"arch",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S gdb\n"})})}),(0,t.jsx)(o.A,{label:"Debian / Ubuntu",value:"debian-ubuntu",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt install gdb\n"})})}),(0,t.jsx)(o.A,{label:"Fedora",value:"Fedora",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo dnf install gdb\n"})})}),(0,t.jsx)(o.A,{label:"Solus",value:"Solus",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo eopkg install gdb\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"generating-a-backtrace",children:"Generating a Backtrace"}),"\n",(0,t.jsxs)(n.p,{children:["First, replace your existing ",(0,t.jsx)(n.code,{children:"budgie-panel"})," with one managed by ",(0,t.jsx)(n.code,{children:"gdb"})," and pipe the output into the referenced file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"gdb budgie-panel 2&>1 | tee ~/budgie-panel-gdb.txt\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Once you're in ",(0,t.jsx)(n.code,{children:"gdb"}),", you will be presented with a prompt showing:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"(gdb)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Type the following, then press the ENTER / Return key. This should replace your Budgie panel(s)."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"r --replace\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Next, perform the actions required to cause the segfault. You should see something like ",(0,t.jsx)(n.code,{children:'Thread 1 "budgie-panel" received signal SIGSEGV, Segmentation fault'}),". Press Enter / Return and you should now see a ",(0,t.jsx)(n.code,{children:"(gdb)"})," prompt again."]}),"\n",(0,t.jsx)(n.p,{children:"Type the following, then press the ENTER / Return key. This may provide a considerable backtrace of content."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bt full\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Once it is done and you see the ",(0,t.jsx)(n.code,{children:"(gdb)"})," prompt, type quit and upload the txt file generated in the bug report. You bring back your budgie panel by opening a Terminal and typing ",(0,t.jsx)(n.code,{children:"budgie-panel --replace &!"})," then pressing ",(0,t.jsx)(n.code,{children:"Ctrl+D"})," to detach from that process."]})]})}function p(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},3703:function(e,n,a){a.d(n,{A:()=>s});var r=a(4848);a(6540);var t=a(7871);function s({children:e,hidden:n,className:a}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.A)("tabItem_Ymn6",a),hidden:n,children:e})}},4109:function(e,n,a){a.d(n,{A:()=>v});var r=a(4848),t=a(6540),s=a(7871),i=a(8251),o=a(6347),l=a(8004),c=a(5580),u=a(2213),d=a(5734);function h(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}var g=a(8864);function b({className:e,block:n,selectedValue:a,selectValue:t,tabValues:o}){let l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{let n=e.currentTarget,r=o[l.indexOf(n)].value;r!==a&&(c(n),t(r))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let a=l.indexOf(e.currentTarget)+1;n=l[a]??l[0];break}case"ArrowLeft":{let a=l.indexOf(e.currentTarget)-1;n=l[a]??l[l.length-1]}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:o.map(({value:e,label:n,attributes:t})=>(0,r.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...t,className:(0,s.A)("tabs__item","tabItem_LNqP",t?.className,{"tabs__item--active":a===e}),children:n??e},e))})}function f({lazy:e,children:n,selectedValue:a}){let i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=i.find(e=>e.props.value===a);return e?(0,t.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==a}))})}function m(e){let n=function(e){let n,{defaultValue:a,queryString:r=!1,groupId:s}=e,i=function(e){let{values:n,children:a}=e;return(0,t.useMemo)(()=>{let e=n??h(a).map(({props:{value:e,label:n,attributes:a,default:r}})=>({value:e,label:n,attributes:a,default:r})),r=(0,u.XI)(e,(e,n)=>e.value===n.value);if(r.length>0)throw Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,a])}(e),[g,b]=(0,t.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let a=n.find(e=>e.default)??n[0];if(!a)throw Error("Unexpected error: 0 tabValues");return a.value})({defaultValue:a,tabValues:i})),[f,m]=function({queryString:e=!1,groupId:n}){let a=(0,o.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(r),(0,t.useCallback)(e=>{if(!r)return;let n=new URLSearchParams(a.location.search);n.set(r,e),a.replace({...a.location,search:n.toString()})},[r,a])]}({queryString:r,groupId:s}),[v,x]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[a,r]=(0,d.Dv)(n);return[a,(0,t.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:s}),y=p({value:n=f??v,tabValues:i})?n:null;return(0,l.A)(()=>{y&&b(y)},[y]),{selectedValue:g,selectValue:(0,t.useCallback)(e=>{if(!p({value:e,tabValues:i}))throw Error(`Can't select invalid tab value=${e}`);b(e),m(e),x(e)},[m,x,i]),tabValues:i}}(e);return(0,r.jsxs)("div",{className:(0,s.A)("tabs-container","tabList__CuJ"),children:[(0,r.jsx)(b,{...n,...e}),(0,r.jsx)(f,{...n,...e})]})}function v(e){let n=(0,g.A)();return(0,r.jsx)(m,{...e,children:h(e.children)},String(n))}},4429:function(e,n,a){a.d(n,{R:()=>i,x:()=>o});var r=a(6540);let t={},s=r.createContext(t);function i(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);