"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["583"],{824:function(e,i,n){n.r(i),n.d(i,{frontMatter:()=>o,toc:()=>c,default:()=>h,metadata:()=>t,assets:()=>u,contentTitle:()=>d});var t=JSON.parse('{"id":"developer/lab/magpie","title":"Magpie Validation","description":"This document provides guidance on compiling and validating Magpie, our soft-fork of Mutter.","source":"@site/docs/developer/lab/magpie.mdx","sourceDirName":"developer/lab","slug":"/developer/lab/magpie","permalink":"/developer/lab/magpie","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"description":"This document provides guidance on compiling and validating Magpie, our soft-fork of Mutter.","title":"Magpie Validation"},"sidebar":"developer","previous":{"title":"Writing Documentation","permalink":"/developer/meta/writing-documentation"}}'),l=n(4848),s=n(4429),a=n(4109),r=n(3703);let o={description:"This document provides guidance on compiling and validating Magpie, our soft-fork of Mutter.",title:"Magpie Validation"},d="Magpie Validation",u={},c=[{value:"Ubuntu Budgie",id:"ubuntu-budgie",level:2},{value:"Other Distributions",id:"other-distributions",level:2},{value:"Magpie Build &amp; Installation",id:"magpie-build--installation",level:3},{value:"Budgie Desktop",id:"budgie-desktop",level:3}];function p(e){let i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"magpie-validation",children:"Magpie Validation"})}),"\n",(0,l.jsx)(i.p,{children:"This document provides guidance on compiling and validating Magpie, our soft-fork of Mutter, alongside steps for getting the testing support branch for Budgie Desktop."}),"\n",(0,l.jsxs)(i.p,{children:["If you are unfamilar with Magpie, please check its ",(0,l.jsx)(i.a,{href:"https://github.com/BuddiesOfBudgie/magpie",children:"GitHub repository"}),"."]}),"\n",(0,l.jsx)(i.p,{children:"Please keep in mind that this document is intended to be limited in scope to pre-1.0 Magpie validation and will not be necessary once magpie is shipped in various distributions and a new Budgie Desktop 10 series (such as 10.8) is out."}),"\n",(0,l.jsx)(i.admonition,{title:"Need help?",type:"danger",children:(0,l.jsxs)(i.p,{children:["You can reach out to us on our ",(0,l.jsx)(i.a,{href:"https://matrix.to/#/#buddies-of-budgie:matrix.org",children:"Matrix Space"})," for guidance if you run into issues."]})}),"\n",(0,l.jsx)(i.h2,{id:"ubuntu-budgie",children:"Ubuntu Budgie"}),"\n",(0,l.jsx)(i.p,{children:"For Ubuntu Budgie, you can test out Magpie support using their PPA. Follow the steps below."}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"sudo add-apt-repository ppa:ubuntubudgie-dev/magpie-wm\nsudo apt full-upgrade\n"})}),"\n",(0,l.jsx)(i.p,{children:"To safely purge the PPA and return to the repo version, run the command below:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"sudo ppa-purge ppa:ubuntubudgie-dev/magpie-wm\n"})}),"\n",(0,l.jsx)(i.h2,{id:"other-distributions",children:"Other Distributions"}),"\n",(0,l.jsx)(i.p,{children:"For other distributions, you will need to build and install Magpie from source, followed by Budgie Desktop."}),"\n",(0,l.jsx)(i.h3,{id:"magpie-build--installation",children:"Magpie Build & Installation"}),"\n",(0,l.jsxs)(i.p,{children:['Before compiling Magpie, you should first to first follow the "Installing Build Dependencies" section from the ',(0,l.jsx)(i.a,{href:"/developer/workflow/building-budgie-desktop",children:"Building Budgie Desktop"})," documentation. This should get you most of the required build dependencies for Magpie compilation as well."]}),"\n",(0,l.jsx)(i.p,{children:"In addition to the ones listed in that document, you may need the following (these are the Fedora listed ones, so please check your respective operating system):"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"libdrm-devel"}),"\n",(0,l.jsx)(i.li,{children:"libgudev-devel"}),"\n",(0,l.jsx)(i.li,{children:"libinput-devel"}),"\n",(0,l.jsx)(i.li,{children:"mesa-libEGL-devel"}),"\n",(0,l.jsx)(i.li,{children:"mesa-libGLES-devel"}),"\n",(0,l.jsx)(i.li,{children:"mesa-libGL-devel"}),"\n",(0,l.jsx)(i.li,{children:"mesa-libgbm-devel"}),"\n",(0,l.jsx)(i.li,{children:"libwacom-devel"}),"\n",(0,l.jsx)(i.li,{children:"libxkbcommon-x11-devel"}),"\n",(0,l.jsx)(i.li,{children:"libxkbfile-devel"}),"\n",(0,l.jsx)(i.li,{children:"mesalib-devel"}),"\n",(0,l.jsx)(i.li,{children:"pipewire-devel"}),"\n",(0,l.jsx)(i.li,{children:"sysprof-devel"}),"\n"]}),"\n",(0,l.jsxs)(i.p,{children:["After installation of the above mentioned dependencies, clone the ",(0,l.jsx)(i.a,{href:"https://github.com/BuddiesOfBudgie/magpie",children:"magpie"})," source repository using ",(0,l.jsx)(i.code,{children:"git"}),":"]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"git clone https://github.com/BuddiesOfBudgie/magpie.git\n"})}),"\n",(0,l.jsx)(i.p,{children:"At this point, we will attempt to configure our build system for compilation. If any development dependencies are missing at this point, you will need to install them using your respective package manager"}),"\n",(0,l.jsxs)(a.A,{children:[(0,l.jsx)(r.A,{value:"arch",label:"Arch",children:(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"  cd magpie\n  meson setup build --prefix=/usr --sysconfdir=/etc --libexecdir=/usr/lib\n"})})}),(0,l.jsx)(r.A,{value:"debian-or-ubuntu",label:"Debian / Ubuntu",children:(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"  cd magpie\n  meson build --prefix=/usr --libdir=/usr/lib -Dwith-gnome-screensaver=true\n"})})}),(0,l.jsxs)(r.A,{value:"solus",label:"Solus",children:[(0,l.jsx)(i.p,{children:"Solus has special requirements and mandates the use of stateless XDG paths, as well as using the OS default CFLAGS:"}),(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"  cd magpie\n  meson --prefix /usr --libdir /usr/lib64 --sysconfdir /etc -Dwith-stateless=true build --buildtype plain\n"})})]}),(0,l.jsx)(r.A,{value:"all-other-distributions",label:"All Other Distributions",children:(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"  cd magpie\n  meson build --prefix=/usr --sysconfdir=/etc\n"})})})]}),"\n",(0,l.jsx)(i.p,{children:"Assuming configuration was successful, we will now attempt to build and install Magpie."}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"ninja -j$(($(getconf _NPROCESSORS_ONLN)+1)) -C build\nsudo ninja install -C build\n"})}),"\n",(0,l.jsx)(i.h3,{id:"budgie-desktop",children:"Budgie Desktop"}),"\n",(0,l.jsx)(i.p,{children:"Now that you have a build of Magpie installed on your system, it is time to check out the dedicated testing code branch for Budgie Desktop and build Budgie Desktop."}),"\n",(0,l.jsx)(i.admonition,{type:"note",children:(0,l.jsxs)(i.p,{children:['If at this point in time you have not installed the dependencies required to compile Budgie Desktop itself, see the "Installing Build Dependencies" section of ',(0,l.jsx)(i.a,{href:"/developer/workflow/building-budgie-desktop",children:"Building Budgie Desktop"}),"."]})}),"\n",(0,l.jsx)(i.p,{children:"As you already have the dependencies for Budgie Desktop installed, run the following command to clone the source and check out the dedicated branch."}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"git clone https://github.com/buddiesofbudgie/budgie-desktop.git\ncd budgie-desktop\ngit submodule update --init\ngit checkout magpie\n"})}),"\n",(0,l.jsxs)(i.p,{children:['Following all steps including and after the "Configuring" section of the ',(0,l.jsx)(i.a,{href:"/developer/workflow/building-budgie-desktop",children:"Building Budgie Desktop"})," document."]}),"\n",(0,l.jsx)(i.p,{children:"At this stage, you should have a Budgie Desktop compiled and installed that uses Magpie. At this point, you will need to perform a reboot."})]})}function h(e={}){let{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},3703:function(e,i,n){n.d(i,{A:()=>s});var t=n(4848);n(6540);var l=n(7871);function s({children:e,hidden:i,className:n}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,l.A)("tabItem_Ymn6",n),hidden:i,children:e})}},4109:function(e,i,n){n.d(i,{A:()=>x});var t=n(4848),l=n(6540),s=n(7871),a=n(8251),r=n(6347),o=n(8004),d=n(5580),u=n(2213),c=n(5734);function p(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){let{props:i}=e;return!!i&&"object"==typeof i&&"value"in i}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h({value:e,tabValues:i}){return i.some(i=>i.value===e)}var g=n(8864);function m({className:e,block:i,selectedValue:n,selectValue:l,tabValues:r}){let o=[],{blockElementScrollPositionUntilNextRender:d}=(0,a.a_)(),u=e=>{let i=e.currentTarget,t=r[o.indexOf(i)].value;t!==n&&(d(i),l(t))},c=e=>{let i=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let n=o.indexOf(e.currentTarget)+1;i=o[n]??o[0];break}case"ArrowLeft":{let n=o.indexOf(e.currentTarget)-1;i=o[n]??o[o.length-1]}}i?.focus()};return(0,t.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":i},e),children:r.map(({value:e,label:i,attributes:l})=>(0,t.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{o.push(e)},onKeyDown:c,onClick:u,...l,className:(0,s.A)("tabs__item","tabItem_LNqP",l?.className,{"tabs__item--active":n===e}),children:i??e},e))})}function b({lazy:e,children:i,selectedValue:n}){let a=(Array.isArray(i)?i:[i]).filter(Boolean);if(e){let e=a.find(e=>e.props.value===n);return e?(0,l.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,t.jsx)("div",{className:"margin-top--md",children:a.map((e,i)=>(0,l.cloneElement)(e,{key:i,hidden:e.props.value!==n}))})}function f(e){let i=function(e){let i,{defaultValue:n,queryString:t=!1,groupId:s}=e,a=function(e){let{values:i,children:n}=e;return(0,l.useMemo)(()=>{let e=i??p(n).map(({props:{value:e,label:i,attributes:n,default:t}})=>({value:e,label:i,attributes:n,default:t})),t=(0,u.XI)(e,(e,i)=>e.value===i.value);if(t.length>0)throw Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[i,n])}(e),[g,m]=(0,l.useState)(()=>(function({defaultValue:e,tabValues:i}){if(0===i.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:i}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${i.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let n=i.find(e=>e.default)??i[0];if(!n)throw Error("Unexpected error: 0 tabValues");return n.value})({defaultValue:n,tabValues:a})),[b,f]=function({queryString:e=!1,groupId:i}){let n=(0,r.W6)(),t=function({queryString:e=!1,groupId:i}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!i)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:e,groupId:i});return[(0,d.aZ)(t),(0,l.useCallback)(e=>{if(!t)return;let i=new URLSearchParams(n.location.search);i.set(t,e),n.replace({...n.location,search:i.toString()})},[t,n])]}({queryString:t,groupId:s}),[x,v]=function({groupId:e}){let i=e?`docusaurus.tab.${e}`:null,[n,t]=(0,c.Dv)(i);return[n,(0,l.useCallback)(e=>{i&&t.set(e)},[i,t])]}({groupId:s}),j=h({value:i=b??x,tabValues:a})?i:null;return(0,o.A)(()=>{j&&m(j)},[j]),{selectedValue:g,selectValue:(0,l.useCallback)(e=>{if(!h({value:e,tabValues:a}))throw Error(`Can't select invalid tab value=${e}`);m(e),f(e),v(e)},[f,v,a]),tabValues:a}}(e);return(0,t.jsxs)("div",{className:(0,s.A)("tabs-container","tabList__CuJ"),children:[(0,t.jsx)(m,{...i,...e}),(0,t.jsx)(b,{...i,...e})]})}function x(e){let i=(0,g.A)();return(0,t.jsx)(f,{...e,children:p(e.children)},String(i))}},4429:function(e,i,n){n.d(i,{R:()=>a,x:()=>r});var t=n(6540);let l={},s=t.createContext(l);function a(e){let i=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(s.Provider,{value:i},e.children)}}}]);